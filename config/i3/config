# Please see http://i3wm.org/docs/userguide.html for a complete reference!
set $mod Mod4

font pango: JetBrains Mono 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

bindsym $mod+Return exec kitty # start a terminal
# kill focused window
bindsym $mod+q kill
bindsym $mod+d exec rofi -show drun -show-icons # start application launcher
bindsym Mod1+Tab exec rofi -show window -show-icons # switch between windows

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# toggle tiling / floating
bindsym $mod+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+Shift+space focus mode_toggle

# switch to workspace
set $fm eDP-1
set $sm DP-1

workspace 01 output $fm #startup workspace 01 on eDP-1
workspace 11 output $sm #startup workspace 11 on DP-1

bindsym $mod+1 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 01 11
bindsym $mod+2 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 02 12
bindsym $mod+3 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 03 13
bindsym $mod+4 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 04 14
bindsym $mod+5 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 05 15
bindsym $mod+6 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 06 16
bindsym $mod+7 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 07 17
bindsym $mod+8 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 08 18
bindsym $mod+9 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 09 19
bindsym $mod+0 exec --no-startup-id ~/.config/bashrc/workspace.sh $fm $sm 10 20

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 01
bindsym $mod+Shift+2 move container to workspace 02
bindsym $mod+Shift+3 move container to workspace 03
bindsym $mod+Shift+4 move container to workspace 04
bindsym $mod+Shift+5 move container to workspace 05
bindsym $mod+Shift+6 move container to workspace 06
bindsym $mod+Shift+7 move container to workspace 07
bindsym $mod+Shift+8 move container to workspace 08
bindsym $mod+Shift+9 move container to workspace 09
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

exec_always --no-startup-id nitrogen --restore
exec_always --no-startup-id picom --config ~/.config/picom/picom.conf

gaps inner 5

default_border pixel 0
default_floating_border pixel 0

# Start i3bar to display a workspace bar (plus the system information i3status finds out, if available)
bar {
		i3bar_command i3bar --transparency
		position top
		output DP-1
		mode hide
		modifier $mod+Mod1
		font pango:monospace 12
		workspace_min_width 24
		padding 2px 4px 2px 4px
		strip_workspace_numbers no
        colors {
            background #00000000
            separator #00000000
    
            focused_workspace #00000000 #00000000 #ffffffff
            active_workspace #00000000 #00000000 #d3d3d3d3
            inactive_workspace #00000000 #00000000 #d3d3d3d3
            urgent_workspace #00000000 #00000000 #d3d3d3d3
            binding_mode #00000000 #00000000 #d3d3d3d3
        }
}

bar {
    i3bar_command i3bar --transparency
    status_command i3blocks
    position top
    output eDP-1
    mode hide
    modifier $mod+Mod1
    workspace_min_width 24
    padding 2px 4px 2px 4px
    strip_workspace_numbers yes
    font pango:monospace 12
    strip_workspace_name yes
    colors {
        background #00000000
        separator #00000000

        focused_workspace #00000000 #00000000 #ffffffff
        active_workspace #00000000 #00000000 #d3d3d3d3
        inactive_workspace #00000000 #00000000 #d3d3d3d3
        urgent_workspace #00000000 #00000000 #d3d3d3d3
        binding_mode #00000000 #00000000 #d3d3d3d3
    }
}


# brightness maps
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl s +10%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl s 10%-
bindsym Shift+XF86MonBrightnessUp exec --no-startup-id light -s sysfs/leds/asus::screenpad -A 10
bindsym Shift+XF86MonBrightnessDown exec --no-startup-id light -s sysfs/leds/asus::screenpad -U 10


bindsym $mod+l exec --no-startup-id "i3lock -c 000000 --no-unlock-indicator --ignore-empty-password -n" # lock screen
bindsym XF86Launch7 exec --no-startup-id ./.config/bashrc/toggleScreen.sh # toggle eDP-1 on/off
bindsym XF86TouchpadToggle exec --no-startup-id ./.config/toggleMouse.sh
bindsym XF86PowerOff  exec --no-startup-id ./.config/rofi/powermenu.sh 

bindsym XF86AudioRaiseVolume exec --no-startup-id "wpctl set-volume @DEFAULT_SINK@ 5%+ -l 1.0"
bindsym XF86AudioLowerVolume exec --no-startup-id "wpctl set-volume @DEFAULT_SINK@ 5%-"
bindsym XF86AudioMute exec --no-startup-id "wpctl set-mute @DEFAULT_SINK@ toggle"


#bindsym XF86Launch1 exec --no-startup-id

bindsym $mod+Shift+s exec --no-startup-id xfce4-screenshooter -r -s /dev/stdout | xclip -i -selection clipboard -t image/png
bindsym Print exec --no-startup-id xfce4-screenshooter -f
bindsym XF86Launch1 exec --no-startup-id ./.config/rofi/rec.sh

bindsym $mod+p exec --no-startup-id ./.config/rofi/externalScreen.sh

# STARTUP ACTIONS
exec --no-startup-id "wpctl set-mute @DEFAULT_SINK@ true" # mute audio on startup
exec --no-startup-id xrandr --output DP-1 --below eDP-1 # set secondary monitor position
exec --no-startup-id setxkbmap -option caps:escape # remap caps to escape (nvim)
exec --no-startup-id xinput disable "$(xinput list | grep "touch" | grep -o 'id=[0-9]\+' | cut -d= -f2)" # disable touch screen
exec --no-startup-id xinput map-to-output "$(xinput list | grep "Stylus stylus" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
exec --no-startup-id xinput map-to-output "$(xinput list | grep "Stylus eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1 

# start notification daemon
exec --no-startup-id dunst


for_window [class="floatterm"] floating enable
for_window [class="nmtui-term"] floating enable, resize set 600 400
for_window [title="FFplayWindow"] floating enable, resize set 640 480, move position center
