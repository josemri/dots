- para el pen parece funcionar lo siguiente:
- ``` bash 
  cat /etc/X11/sorg.conf.d/50-asus-pen.conf
  Section "InputClass"                                                                                                   
        Identifier "ASUS SPEN"  
        MatchProduct "ELAN9009:00 04F3:2C58"  
        Driver "wacom"  
        Option "Gesture" "off"  
  EndSection
  ```
- luego deshabilito el touchscreen(touch) y ejecuto el script para mapear correctamente:
- ``` bash 
  pen='Stylus stylus'
  eraser='Stylus eraser'
  if ! xrandr | grep -q "DP-1 disconnected"; then
    pen_id=$(xinput list | grep "$pen" | grep -o 'id=[0-9]\+' | cut -d= -f2)
    if [ -n "$pen_id" ]; then
        xinput map-to-output "$pen_id" DP-1
    fi 
    eraser_id=$(xinput list | grep "$eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)
    if [ -n "$eraser_id" ]; then
        xinput map-to-output "$eraser_id" DP-1
    fi
  fi
  ```
- con esto parece que funciona todo, si hago:
- ``` bash
  josep@laptop:~$ xsetwacom --list devices
  ELAN9009:00 04F3:2C58 touch             id: 12  type: TOUCH     
  ELAN9009:00 04F3:2C58 Stylus stylus     id: 13  type: STYLUS    
  ELAN9009:00 04F3:2C58 Stylus eraser     id: 16  type: ERASER
  ```
- estoy intentando reducir el script lo maximo posible:
- ``` bash
  pen='Stylus stylus'
  eraser='Stylus eraser'
  touchscreen='touch'
  
  # if screen is on
  if ! xrandr | grep -q "DP-1 disconnected"; then
          # disable touchscreen and map pen (asume connected)
          xinput disable "$(xinput list | grep "$touchscreen" | grep -o 'id=[0-9]\+' | cut -d= -f2)"
          xinput map-to-output "$(xinput list | grep "$pen" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
          xinput map-to-output "$(xinput list | grep "$eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
      
          #if [ -n "$(xinput list | grep "$pen" | grep -o 'id=[0-9]\+' | cut -d= -f2)" ]; then
          #    xinput map-to-output "$(xinput list | grep "$pen" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
          #fi
          #
          #if [ -n "$(xinput list | grep "$eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)" ]; then
          #    xinput map-to-output "$(xinput list | grep "$eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
          #fi
  fi # primera version intentando simplificarlo lo maximo posible para ejecutarlo on start
  ```
- al final se ha quedado en esto:
- ``` bash  
  # no hace falta mirar si la segunda pantalla esta encendida o apagada porque se ejecuta en el startup
  # se da por hecho que los nombres son Stylus stylus, Stylus eraser y touch, en caso de cambiar de os me va a tocar joderme y cambiarlo a mano
  xinput disable "$(xinput list | grep "$touchscreen" | grep -o 'id=[0-9]\+' | cut -d= -f2)"
  xinput map-to-output "$(xinput list | grep "$pen" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
  xinput map-to-output "$(xinput list | grep "$eraser" | grep -o 'id=[0-9]\+' | cut -d= -f2)" DP-1
  
  # lo siguiente supongo que va a ser eliminar el script entero y que se ejecute en el ~/.config/i3/config usando:
  # exec --no-startup-id ... con los tres comandos y a funcionar
  ```